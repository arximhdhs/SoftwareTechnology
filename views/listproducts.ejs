<!DOCTYPE html>
<html>
<head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
          <link href="https://fonts.googleapis.com/css?family=Laila" rel="stylesheet">
          <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>

/* 990000 */

body {
  margin: 0;
  font-family: Laila;
	/* background:#ffd0a1; */
  /* background-color: rgb(255, 208, 161,0.4); */
  
  background-color: rgb(222, 179, 135);
  background-color: #f1f1f1;
}

#special{
	color:white;
}
.top-container {
  background-color: #f7f5f5;
  padding: 100px;
  text-align: center;
  /* background: url(http://www.rizopoulospost.com/wp-content/uploads/2017/07/1481814525116.jpg) no-repeat fixed; */
  /* background: url(../public/cafe.1.png) no-repeat fixed; */
  /* background: url(https://medjimurje.hr/upload/images/clanci/kava-600x340.jpg) no-repeat fixed; */
  /* -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
		background-size: cover;
		overflow: hidden */
        
}
.bg { 
  /* The image used */
  background: url(https://www.in.gr/wp-content/uploads/2018/03/22068098_coffee.jpg) no-repeat fixed;
  /* background-image: url("kaf.png"); */
  /* background: url(https://cdn.cnn.com/cnnnext/dam/assets/150929101049-black-coffee-stock-super-tease.jpg) no-repeat fixed; */
  /* background: url(https://www.in.gr/wp-content/uploads/2018/03/22068098_coffee.jpg) no-repeat fixed; */
  /* background: url(https://www.in.gr/wp-content/uploads/2018/03/22068098_coffee.jpg) no-repeat fixed; */
  /* background: url(https://www.in.gr/wp-content/uploads/2018/03/22068098_coffee.jpg) no-repeat fixed; */
  /* Full height */
  height: 100%; 

  /* Center and scale the image nicely */
  background-position: top;
  background-repeat: no-repeat;
  background-size: cover;

  /* background-size: 1000px; */
}
.stars-outer {
  display: inline-block;
  position: relative;
  font-family: FontAwesome;
}

.stars-outer::before {
  content: "\f006 \f006 \f006 \f006 \f006";
}

.stars-inner {
  position: absolute;
  top: 0;
  left: 0;
  white-space: nowrap;
  overflow: hidden;
  width: 0;
}

.stars-inner::before {
  content: "\f005 \f005 \f005 \f005 \f005";
  color: #f8ce0b;
}

.attribution {
  font-size: 12px;
  color: #444;
  text-decoration: none;
  text-align: center;
  position: fixed;
  right: 10px;
  bottom: 10px;
  z-index: -1;
}
.attribution:hover {
  color: #1fa67a;
}
.header {
  padding: 10px 16px;
  /* background-color:rgb(47, 28, 9); */
  background-color:white;
  /* color: #f1f1f1; */
  /* color: rgb(47, 28, 9); */
  color:#990000;
  
}


.content {
  padding: 16px;
}

.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}


.sticky1 {
  position: fixed;
  top: 13.2%;
	width: 31.2%;
	/* padding-top: 2200px; */
	float: left;
	background-color: white;
	padding: 20px;
   margin-top: 20px;
}

.sticky + .content {
  padding-top: 102px;
}
.wrapper {
     height: 2000px;
}
svg {
     position: fixed;
     top: 50%;
     left: 0;
     right: 3000;
     bottom: 100;
     margin: auto;
     width: 50%;
}


* {
  box-sizing: border-box;
}

.leftcolumn {   
  float: left;
  width: 32%;
}

/* Right column */
.rightcolumn {
  float: left;
  width: 68%;
  padding-left: 20px;
}


.card {
   background-color: white;
   padding: 20px;
   margin-top: 20px;
   box-shadow: 5px 5px 2px rgb(180, 178, 178);
   border-radius: 3%;
}
#crusial{
  background-color:#f1f1f1;
  box-shadow: 0px 0px 0px grey;

}
#special{
    color: rgb(47, 28, 9);
}

/* Clear floats after the columns */
/* .row:after {
  content: "";
  display: table;
  clear: both;
} */
.container_filt {
  display: block;
  position: relative;
  padding-left: 35px;
  margin-bottom: 10px;
  cursor: pointer;
  font-size: 19px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Hide the browser's default radio button */
.container_filt input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
}

/* Create a custom radio button */
.checkmark {
  position: absolute;
  top: 0;
  left: 0;
  height: 25px;
  width: 25px;
  background-color: #eee;
  border-radius: 50%;
}

/* On mouse-over, add a grey background color */
.container_filt:hover input ~ .checkmark {
  background-color: #ccc;
}

/* When the radio button is checked, add a blue background */
.container_filt input:checked ~ .checkmark {
  background-color: #2196F3;
}

/* Create the indicator (the dot/circle - hidden when not checked) */
.checkmark:after {
  content: "";
  position: absolute;
  display: none;
}

/* Show the indicator (dot/circle) when checked */
.container_filt input:checked ~ .checkmark:after {
  display: block;
}

/* Style the indicator (dot/circle) */
.container_filt .checkmark:after {
 	top: 9px;
	left: 9px;
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background: white;
}
#text{
    position: relative;
    color: black;
    font-weight: 1000;
    left: 40%;
    top: 32%; 
}
#img{
    position: absolute;
    left: 2.5%; 
    /* width: 0%; */
}
.filtra_style{
    font-weight: lighter;

}

.store_char{
  margin-top: 20px;
}
.ic_size{
  height: 300px;
}
.big-icon {
    font-size: 28px;
    margin-left: 20px;
    margin-bottom: 12px;
}

.euro_icon{
  font-size: 23px;
  margin-left: -6px;

}
.price_style{
  font-size: 35px;
  margin-left: 60px;

}
.star-rating {
  line-height:32px;
  font-size:1.25em;
}

.star-rating .fa-star{color: yellow;}

#myDIV {
  width: 100%;
  padding: 50px 0;
  text-align: center;
  background-color: lightblue;
  margin-top: 20px;
}
.map{
  position: fixed;
  width: 200%;
  height: 20%;
}

#map {
            position: relative;
            width: 900px;
            height: 400px;
            color: black;
            
        }

        .container_0{
          width: 200px;
          /* right: 200%; */
          text-align: left;
          margin-left: 550px;
          margin-top: 0px;
        }
       
</style>
</head>
<body>
    <!-- <div class="map"> 
        <div id='map'></div>    
      </div> -->
<div class="top-container bg">
  <!-- <h1>Scroll Down</h1>
  <p>Scroll down to see the sticky effect.</p> -->
</div>
<!-- <% include ../views/navbar %> -->


<div class="header" id="myHeader">
        <div class="container-fluid navbcolor">
                <div class="navbar-header ">
                    
                        <!-- <div class="header"> -->
                                <img id="img" src="/assets/img/looo.ico" alt="logo" />
                                <a class="navbar-brand" id="text" id="special" href="/">CoffeeGuru</a>
                                <!-- <h6 id="text">My website name</h6> -->
                              <!-- </div> -->
                        <!-- <img src="/assets/img/logo.png" alt="logo"> </img>

                        <a class="navbar-brand" id="special" href="/">CoffeeGuru</a>
                    -->
                    
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <% if (!currentUser) { %>
                            <li class="<%= typeof page !== 'undefined' && page === 'login' ? 'active' : '' %>"><a href="/observatory/api/login" id="special">Login</a></li>
                            <li class="<%= typeof page !== 'undefined' && page === 'signup' ? 'active' : '' %>"><a href="/observatory/api/signup" id="special">Sign Up</a></li>
                        <% } else { %>
                            <% if (currentUser.isAdmin) { %>
                                <li><a href="/users/<%= currentUser._id %>" id="special">Admin. <%= currentUser.username %></a></li>
                            <% } else { %>
                            <li><a href="/users/<%= currentUser._id %>" id="special">Hi, <%= currentUser.username %></a></li>
                            <% } %>
                            <li><a href="/logout" id="special">Logout</a></li>
                        <% } %>
                    </ul>
                </div>
        </div>
</div>


<div class="content">
		<div class="leftcolumn">
				<div class="card" id="filtra">
          <h3>Ταξινομήστε κατά:</h3>
          <label class="container_filt filtra_style">απόσταση
            <input type="radio" checked="checked" name="radio">
            <span class="checkmark"></span>
          </label>
          <label class="container_filt filtra_style">βαθμολογία
            <input type="radio" name="radio">
            <span class="checkmark"></span>
          </label>
          <label class="container_filt filtra_style">τιμή
            <input type="radio" name="radio">
            <span class="checkmark"></span>
          </label>
					</div>
					<div class="card" id="crusial">
						
					</div>
					<div class="wrapper">
              <% include ../views/vectorpaint_final.svg %>
					</div>
				
			
			</div>
			<div class="rightcolumn">
				
          <%= product[0].name %>
        <ul >
            <% for(var i=0; i < product.length; i++){ %>
           
                  <div class="card">
                      <div class="container ">
                          <i class="material-icons big-icon store_char ">store</i>
                           <strong class="big-icon " >  <%= product[i].store %>  </strong> 
                       
                           <normal class="price_style" > <%= product[i].price %> </normal>
                      <span class="glyphicon glyphicon-euro euro_icon"></span>
                     
                      <!-- <normal class="big-icon " style="margin-left:20px;" ><%= product[i].rate %></normal> -->
                     
                      <!-- <button onclick="myFunction()">Try it</button> -->

                      <!-- <button onclick="map()" class="btn success">Success</button> -->
                      
                      <div class="container_0">
                         <h4 ><a style="font-family: Laila;" href="/observatory/api/map?myVar1=<%= product[i].lat%> &myVar2=<%= product[i].lon %> ">Δείτε στον Χάρτη</a></h4>
<hr>
                        <div class="parent" > 
                          
                          <h4>Αξιολογήστε (1 - 5)</h4>
                          <div class='child_1' style="display:none;">
                            <form action="/observatory/api/products/rating/<%= product[i]._id %> " method="post">  <!--ssssssssss--->                          <div class="form-group">
                            
                              <input class="form-control" type="text" name="rate" autocomplete="off"  />
                            
                              <button class="btn btn-md btn-primary btn-block">Submit</button>
                          </div>
                            </form>


                          </div>

                        </div>
                      </div>
                         
                    </div>
                  </div>
            
                  <% } %>
      
        </ul>
     


			</div>
    
</div>


<script>
window.onscroll = function() {myFunction()};

var header = document.getElementById("myHeader");
var filtra = document.getElementById("filtra");
var sticky = header.offsetTop;


function myFunction() {
  if (window.pageYOffset > sticky) {
		header.classList.add("sticky");
		filtra.classList.add("sticky1");
  } else {
		header.classList.remove("sticky");
		filtra.classList.remove("sticky1");
  }
}


// ------------------------------------------------------------------------------
(function(factory) {
  /* global define */
  if ( typeof define === 'function' && define.amd ) {
    define(['jquery'], factory);
  } else if ( typeof module === 'object' && module.exports ) {
    // Node/CommonJS
    module.exports = function( root, jQuery ) {
      if ( jQuery === undefined ) {
        if ( typeof window !== 'undefined' ) {
          jQuery = require('jquery');
        } else {
          jQuery = require('jquery')(root);
        }
      }
      factory(jQuery);
      return jQuery;
    };
  } else {
    // Browser globals
    factory(jQuery);
  }
}(function($) {
  'use strict';

  var pluginName = 'drawsvg',
      defaults = {
        duration: 2000,
        stagger: 100,
        easing: 'swing',
        reverse: false,
        callback: $.noop
      },
      DrawSvg = (function() {
        var fn = function fn(elm, options) {
          var _this = this,
              opts = $.extend(defaults, options);

          _this.$elm = $(elm);

          if ( !_this.$elm.is('svg') )
            return;

          _this.options = opts;
          _this.$paths = _this.$elm.find('path');

          _this.totalDuration = opts.duration + (opts.stagger * _this.$paths.length);
          _this.duration = (opts.duration / _this.totalDuration);

          _this.$paths.each(function(index, elm) {
            var pathLength = elm.getTotalLength();

            elm.pathLen = pathLength;
            elm.delay = (opts.stagger * index) / _this.totalDuration;
            elm.style.strokeDasharray = [pathLength, pathLength].join(' ');
            elm.style.strokeDashoffset = pathLength;
          });

          _this.$elm.attr('class', function(index, classNames) {
            return [classNames, pluginName + '-initialized'].join(' ');
          });
        };

        fn.prototype.getVal = function(p, easing) {
          return 1 - $.easing[easing](p, p, 0, 1, 1);
        };

        fn.prototype.progress = function progress(prog) {
          var _this = this,
              opts = _this.options,
              duration = _this.duration;

          _this.$paths.each(function(index, elm) {
            var elmStyle = elm.style;

            if ( prog === 1 ) {
              elmStyle.strokeDashoffset = 0;
            } else if ( prog === 0 ) {
              elmStyle.strokeDashoffset = elm.pathLen + 'px';
            } else if ( prog >= elm.delay && prog <= duration + elm.delay ) {
              var p = ((prog - elm.delay) / duration);
              elmStyle.strokeDashoffset = ((_this.getVal(p, opts.easing) * elm.pathLen) * (opts.reverse ? -1 : 1)) + 'px';
            }
          });
        };

        fn.prototype.animate = function animate() {
          var _this = this;

          _this.$elm.attr('class', function(index, classNames) {
            return [classNames, pluginName + '-animating'].join(' ');
          });

          $({ len: 0 }).animate({
            len: 1
          }, {
            easing: 'linear',
            duration: _this.totalDuration,
            step: function(now, fx) {
              _this.progress.call(_this, now / fx.end);
            },
            complete: function() {
              _this.options.callback.call(this);

              _this.$elm.attr('class', function(index, classNames) {
                return classNames.replace(pluginName + '-animating', '');
              });
            }
          });
        };

        return fn;
      })();

  // A really lightweight plugin wrapper around the constructor,
  // preventing against multiple instantiations
  $.fn[pluginName] = function(method, args) {
    return this.each(function() {
      var data = $.data(this, pluginName);

      ( data && ''+method === method && data[method] ) ?
        data[method](args) :
        $.data(this, pluginName, new DrawSvg(this, method));
    });
  };
}));
     var $doc = $(document),
          $win = $(window),
          $svg = $('svg').drawsvg(),
          max = $doc.height() - $win.height();

          $win.on('scroll', function() {
               var p = ($win.scrollTop()) / max;
               $svg.drawsvg('progress', p);
          });

 
//           function myFunction() {
//   var x = document.getElementById("myDIV");
//   if (x.style.display === "none") {
//     x.style.display = "block";
//   } else {
//     x.style.display = "none";
//   }
// }

$(function(){ 
  $('.parent').dblclick( function() {
    $(this).children("div").toggle();
  });
});

// // total number of stars
// const starTotal = 5;

//   const starPercentage = (ratings[rating] / starTotal) * 100;
//   const starPercentageRounded = `${(Math.round(starPercentage / 10) * 10)}%`;
//   document.querySelector(`.${rating} .stars-inner`).style.width = starPercentageRounded; 


</script>
<script src="https://unpkg.com/ionicons@4.4.4/dist/ionicons.js"></script>
<script type="text/javascript" src="https://leafletjs-cdn.s3.amazonaws.com/content/leaflet/master/leaflet.js"></script>
<script type="text/javascript" src="https://tiles.unwiredmaps.com/js/leaflet-unwired.js"></script>
<script type="text/javascript">
    // Maps access token goes here
  //   function map(){

    
  //   var key = '5f56374211cc54';

  //   // Add layers that we need to the map
  //   var streets = L.tileLayer.Unwired({key: key, scheme: "streets"});

  //   // Initialize the map
  //   var map = L.map('map', {
  //       center: [38.0417985, 23.8326074], // Map loads with this location as center
  //       zoom: 14,
  //       scrollWheelZoom: false,
  //       layers: [streets] // Show 'streets' by default
  //   });

  //   // Add the 'scale' control
  //   L.control.scale().addTo(map);

  //   // Add the 'layers' control
  //   L.control.layers({
  //       "Streets": streets
  //   }).addTo(map);

  //   // Add a 'circle' and create a popup
  

  //   // Add a 'polygon' & bind with a popup function

  //   // Add a 'marker'
  //   var marker = L.marker([38.0417985, 23.8326074])
  //       .addTo(map)
  //       .bindPopup("<b>Hello world!</b><br>I am a popup.")
  //       .openPopup();
  // }


</script>

</body>
</html>